<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button
        [defaultHref]="'settings/plants'"
        [text]="'Back' | translate"
      >
        ></ion-back-button
      >
    </ion-buttons>
    <ion-title translate>Plant settings</ion-title>
    <ion-buttons slot="end" *ngIf="(plantId | async) !== null">
      <ion-button (click)="onDelete()">
        <ion-icon name="trash" color="danger"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form [formGroup]="form">
    <ion-item>
      <ion-label position="floating" translate class="required"
        >English name</ion-label
      >
      <ion-input type="text" formControlName="name_en"></ion-input>
    </ion-item>
    <span
      class="error ion-margin"
      *ngIf="
        form.get('name_en')?.hasError('required') && form.get('name_en')?.touched
      "
      translate
    >
      Please fill in a name
    </span>

    <ion-item>
      <ion-label position="floating" translate class="required"
        >German name</ion-label
      >
      <ion-input type="text" formControlName="name_de"></ion-input>
    </ion-item>
    <span
      class="error ion-margin"
      *ngIf="
        form.get('name_de')?.hasError('required') && form.get('name_de')?.touched
      "
      translate
    >
      Please fill in a name
    </span>

    <ion-item>
      <ion-label position="floating" translate class="required"
        >Image url</ion-label
      >
      <ion-input type="text" formControlName="image_url"></ion-input>
    </ion-item>
    <span
      class="error ion-margin"
      *ngIf="
        form.get('image_url')?.hasError('required') && form.get('image_url')?.touched
      "
      translate
    >
      Please fill in a url
    </span>
  </form>
  <ion-button
    expand="block"
    type="submit"
    slot="fixed"
    style="bottom: 1rem; left: 1rem; right: 1rem"
    translate
    [disabled]="!form.valid"
    (click)="save()"
  >
    Save
  </ion-button>
</ion-content>
